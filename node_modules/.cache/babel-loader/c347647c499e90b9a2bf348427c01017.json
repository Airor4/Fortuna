{"ast":null,"code":"var _jsxFileName = \"/Users/Airor/Desktop/Fortuna/Fortuna/fortuna/src/login/LoginPopup.js\";\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './Login.css';\nimport Popup from 'reactjs-popup'; // Login component.\n\nconst PORT = 3000;\n\n// END OF NOTE\n// Login Popup component.\nclass LoginPopup extends React.Component {\n  constructor() {\n    super();\n\n    this.callApi = async () => {\n      const response = await fetch('http://localhost:' + PORT + '/signup');\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      return body;\n    };\n\n    this.handleLoginClick = async () => {\n      const response = await fetch('http://localhost:' + PORT + '/signup', {\n        method: 'POST',\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Credentials': 'true'\n        },\n        body: JSON.stringify({\n          userName: this.state.userName,\n          password: this.state.password\n        })\n      });\n      const body = await response.text();\n      console.log(body);\n    };\n\n    this.state = {\n      response: '',\n      userName: '',\n      password: '',\n      responseToPost: ''\n    };\n  }\n\n  componentDidMount() {\n    this.callApi().then(res => this.setState({\n      response: res.express\n    })).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(Popup, {\n      trigger: React.createElement(\"button\", {\n        type: \"button\",\n        className: \"loginbtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Login\"),\n      modal: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"loginpopup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"form\", {\n      \"data-toggle\": \"validator\",\n      role: \"form\",\n      method: \"post\",\n      action: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row col-md-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"loginUserName\",\n      value: this.state.userName,\n      onChange: e => this.setState({\n        userName: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row col-md-12 form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      name: \"loginPassword\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"help-block with-errors text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/MainMenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary btn-lg btn-block\",\n      onClick: this.handleLoginClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Login\"))))));\n  }\n\n}\n\nexport default LoginPopup;","map":{"version":3,"sources":["/Users/Airor/Desktop/Fortuna/Fortuna/fortuna/src/login/LoginPopup.js"],"names":["React","Link","Popup","PORT","LoginPopup","Component","constructor","callApi","response","fetch","body","json","status","Error","message","handleLoginClick","method","headers","JSON","stringify","userName","state","password","text","console","log","responseToPost","componentDidMount","then","res","setState","express","catch","err","render","e","target","value"],"mappings":"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","sourcesContent":["//@flow strict\r\nimport * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './Login.css';\r\nimport Popup from 'reactjs-popup';\r\n\r\n\r\n// Login component.\r\nconst PORT = 3000;\r\ntype Props = {||}; \r\ntype State = {|\r\n\tresponse: string,\r\n\tuserName: string,\r\n\tpassword: string,\r\n\tresponseToPost: string,\r\n|};\r\n\r\n//DO NOT USE THIS AS PART OF A BIGGER OBJECT.\r\n//ONCE SIGNUP API IS DONE PUT || AT THE END\r\ntype SignupResponse = {\r\n\texpress: string,\r\n\tmessage: string\r\n};\r\n// END OF NOTE\r\n\r\n\r\n// Login Popup component.\r\nclass LoginPopup extends React.Component<Props, State> {\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state={\r\n\t\t\tresponse: '',\r\n\t\t\tuserName: '',\r\n\t\t\tpassword: '',\r\n\t\t\tresponseToPost: ''\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount():void {\r\n\t\tthis.callApi()\r\n\t\t.then(res => this.setState({ response: res.express }))\r\n\t\t.catch(err => console.log(err));\r\n\t};\r\n\t\r\n\tcallApi = async ():Promise<SignupResponse> => {\r\n\t\tconst response:Response = await fetch('http://localhost:'+PORT+'/signup');\r\n\t\tconst body:SignupResponse  = await response.json();\r\n\t\tif (response.status !== 200) throw Error(body.message);\r\n\t\t\r\n\t\treturn body;\r\n\t};\r\n\r\n\thandleLoginClick = async ():Promise<void> => {\r\n\t\tconst response = await fetch('http://localhost:'+PORT+'/signup', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Access-Control-Allow-Credentials': 'true'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ userName: this.state.userName, password:this.state.password }),\r\n\t\t});\r\n\t\tconst body = await response.text();\r\n\t\tconsole.log(body);\r\n\t};\r\n\r\n\trender(): React.Node {\r\n\t\treturn (\r\n\t\t\t<Popup trigger={<button type=\"button\" className=\"loginbtn\">Login</button>} modal>\r\n\t\t\t\t<div className=\"loginpopup\">\r\n\t\t\t\t\t<h1>Login</h1>\r\n\t\t\t\t\t<form data-toggle=\"validator\" role=\"form\" method=\"post\" action=\"#\">\r\n\t\t\t\t\t\t<div className=\"row col-md-12 form-group\">\r\n\t\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" name=\"loginUserName\" value={this.state.userName} onChange={e => this.setState({ userName: e.target.value})} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row col-md-12 form-group\">\r\n\t\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"loginPassword\" className=\"form-control\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"help-block with-errors text-danger\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row col-md-12\">\r\n\t\t\t\t\t\t\t<Link to=\"/MainMenu\">\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary btn-lg btn-block\" onClick={this.handleLoginClick}>Login</button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Popup>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default LoginPopup;\r\n"]},"metadata":{},"sourceType":"module"}